{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { Types } from './Types';\nexport let Tools;\n\n(function (_Tools) {\n  const getCurApi = _Tools.getCurApi = () => {\n    const apiArr = [];\n    Types.currencies.forEach(base => {\n      const symbols = Types.currencies.filter(el => el !== base).join(',');\n      apiArr.push(Types.API + `?symbols=${symbols}&base=${base}`);\n    });\n    return apiArr;\n  };\n\n  const getHeaders = _Tools.getHeaders = () => {\n    const myHeaders = new Headers();\n    myHeaders.append('apikey', Types.API_KEY);\n    return myHeaders;\n  };\n})(Tools || (Tools = {}));\n\nexport let Fetch;\n\n(function (_Fetch) {\n  const getCurrency = _Fetch.getCurrency = createAsyncThunk(Types.GET_CURRENCY, async () => {\n    const currencyArr = [];\n    const apiArr = Tools.getCurApi();\n    apiArr.forEach(async api => {\n      const response = await fetch(api, {\n        method: 'GET',\n        redirect: 'follow',\n        headers: Tools.getHeaders()\n      });\n      const currency = await response.text();\n      currencyArr.push(currency);\n    });\n    return currencyArr;\n  });\n})(Fetch || (Fetch = {}));","map":{"version":3,"names":["createAsyncThunk","Types","getCurApi","apiArr","currencies","forEach","base","symbols","filter","el","join","push","API","getHeaders","myHeaders","Headers","append","API_KEY","Tools","getCurrency","GET_CURRENCY","currencyArr","api","response","fetch","method","redirect","headers","currency","text","Fetch"],"sources":["/Users/maxryaguzov/home_porjects/currency_converter/src/utils/Tools.ts"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit'\nimport { Types } from './Types'\n\nexport namespace Tools {\n\texport const getCurApi = (): string[] => {\n\t\tconst apiArr: string[] = []\n\t\tTypes.currencies.forEach((base) => {\n\t\t\tconst symbols = Types.currencies\n\t\t\t\t.filter((el) => el !== base)\n\t\t\t\t.join(',')\n\t\t\tapiArr.push(Types.API + `?symbols=${symbols}&base=${base}`)\n\t\t})\n\t\treturn apiArr\n\t}\n\n\texport const getHeaders = (): Headers => {\n\t\tconst myHeaders = new Headers()\n\t\tmyHeaders.append('apikey', Types.API_KEY)\n\t\treturn myHeaders\n\t}\n}\n\nexport namespace Fetch {\n\t/*\n        GET CURRENCY\n    */\n\texport const getCurrency = createAsyncThunk(\n\t\tTypes.GET_CURRENCY,\n\t\tasync () => {\n\t\t\tconst currencyArr: string[] = []\n\t\t\tconst apiArr = Tools.getCurApi()\n\t\t\tapiArr.forEach(async (api) => {\n\t\t\t\tconst response = await fetch(api, {\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tredirect: 'follow',\n\t\t\t\t\theaders: Tools.getHeaders(),\n\t\t\t\t})\n\t\t\t\tconst currency = await response.text()\n\t\t\t\tcurrencyArr.push(currency)\n\t\t\t})\n\t\t\treturn currencyArr\n\t\t}\n\t)\n}\n"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AACA,SAASC,KAAT,QAAsB,SAAtB;AAEA;;;EACQ,MAAMC,SAAS,sBAAG,MAAgB;IACxC,MAAMC,MAAgB,GAAG,EAAzB;IACAF,KAAK,CAACG,UAAN,CAAiBC,OAAjB,CAA0BC,IAAD,IAAU;MAClC,MAAMC,OAAO,GAAGN,KAAK,CAACG,UAAN,CACdI,MADc,CACNC,EAAD,IAAQA,EAAE,KAAKH,IADR,EAEdI,IAFc,CAET,GAFS,CAAhB;MAGAP,MAAM,CAACQ,IAAP,CAAYV,KAAK,CAACW,GAAN,GAAa,YAAWL,OAAQ,SAAQD,IAAK,EAAzD;IACA,CALD;IAMA,OAAOH,MAAP;EACA,CATM;;EAWA,MAAMU,UAAU,uBAAG,MAAe;IACxC,MAAMC,SAAS,GAAG,IAAIC,OAAJ,EAAlB;IACAD,SAAS,CAACE,MAAV,CAAiB,QAAjB,EAA2Bf,KAAK,CAACgB,OAAjC;IACA,OAAOH,SAAP;EACA,CAJM;GAZSI,K,KAAAA,K;;AAmBjB;;;EAIQ,MAAMC,WAAW,wBAAGnB,gBAAgB,CAC1CC,KAAK,CAACmB,YADoC,EAE1C,YAAY;IACX,MAAMC,WAAqB,GAAG,EAA9B;IACA,MAAMlB,MAAM,GAAGe,KAAK,CAAChB,SAAN,EAAf;IACAC,MAAM,CAACE,OAAP,CAAe,MAAOiB,GAAP,IAAe;MAC7B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,EAAM;QACjCG,MAAM,EAAE,KADyB;QAEjCC,QAAQ,EAAE,QAFuB;QAGjCC,OAAO,EAAET,KAAK,CAACL,UAAN;MAHwB,CAAN,CAA5B;MAKA,MAAMe,QAAQ,GAAG,MAAML,QAAQ,CAACM,IAAT,EAAvB;MACAR,WAAW,CAACV,IAAZ,CAAiBiB,QAAjB;IACA,CARD;IASA,OAAOP,WAAP;EACA,CAfyC,CAApC;GAJSS,K,KAAAA,K"},"metadata":{},"sourceType":"module"}